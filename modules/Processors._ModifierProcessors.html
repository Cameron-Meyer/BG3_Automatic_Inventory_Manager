<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/Processors._CoreProcessor.html">Processors._CoreProcessor</a></li>
  <li><a href="../modules/Processors._FilterProcessors.html">Processors._FilterProcessors</a></li>
  <li><strong>Processors._ModifierProcessors</strong></li>
  <li><a href="../modules/Processors._ProcessorUtils.html">Processors._ProcessorUtils</a></li>
  <li><a href="../modules/Utils._TableUtils.html">Utils._TableUtils</a></li>
  <li><a href="../modules/ItemBlackList.html">ItemBlackList</a></li>
  <li><a href="../modules/ItemFilters.html">ItemFilters</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>Processors._ModifierProcessors</code></h1>
<p></p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ModifierProcessors:AddPerStackModifierProcessor">ModifierProcessors:AddPerStackModifierProcessor (modUUID, modifierKey, processorFunction)</a></td>
	<td class="summary">Adds a new Modifier Processor that pre-filters eligiblePartyMembers before the stack is processed.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#ModifierProcessors:ProcessPerStackModifiers">ModifierProcessors:ProcessPerStackModifiers (modifiers, itemFilter, partyMembers, targetsWithAmountWon, item, currentItemStackSize, root, inventoryHolder)</a></td>
	<td class="summary">Processes all modifiers that pre-filter eligiblePartyMembers before processing the stack of items</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ModifierParamMap">ModifierParamMap</a></td>
	<td class="summary">The table that's passed to each ModifierProcessor</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "ModifierProcessors:AddPerStackModifierProcessor"></a>
    <strong>ModifierProcessors:AddPerStackModifierProcessor (modUUID, modifierKey, processorFunction)</strong>
    </dt>
    <dd>
    Adds a new Modifier Processor that pre-filters eligiblePartyMembers before the stack is processed.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modUUID</span>
         that ScriptExtender has registered for your mod, for tracking purposes - https://github.com/Norbyte/bg3se/blob/main/Docs/API.md#ismodloadedmodguid
 will throw an error if the mod identified by that UUID is not loaded
        </li>
        <li><span class="parameter">modifierKey</span>
         the modifier that this processorFunction can process. Can have multiple processors for the same modifierKey
        </li>
        <li><span class="parameter">processorFunction</span>
         to actually process the modifier, accepting the following params:<br/>
 1) the value of the modifier identified by modifierKey <br/> 2) _ModifierProcessors.ParamMap
 <br/> and return the list of party members that are eligible to continue processing. If the list is empty, or nil is returned, the
 last known populated eligiblePartyMembers list will be used.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        if the function was added successfully for the modifierKey
    </ol>




</dd>
    <dt>
    <a name = "ModifierProcessors:ProcessPerStackModifiers"></a>
    <strong>ModifierProcessors:ProcessPerStackModifiers (modifiers, itemFilter, partyMembers, targetsWithAmountWon, item, currentItemStackSize, root, inventoryHolder)</strong>
    </dt>
    <dd>
    Processes all modifiers that pre-filter eligiblePartyMembers before processing the stack of items


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modifiers</span>
         The entire Modifiers field on the ItemFilter being processed
        </li>
        <li><span class="parameter">itemFilter</span>
         being processed for the stack
        </li>
        <li><span class="parameter">partyMembers</span>
         the list of party members that have been identified as eligible up to this point
        </li>
        <li><span class="parameter">targetsWithAmountWon</span>
         table<GUIDSTRING, number> copy of the winners table across all filters being run for the given item - will be nil for perStack ModifierProcessors
        </li>
        <li><span class="parameter">item</span>
         GUIDSTRING being sorted
        </li>
        <li><span class="parameter">currentItemStackSize</span>
         as identified by the first return of Osi.GetStackAmount
        </li>
        <li><span class="parameter">root</span>
         GUIDSTRING rootTemplate of the item
        </li>
        <li><span class="parameter">inventoryHolder</span>
         CHARACTER
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the finalized list of eligible party members
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "ModifierParamMap"></a>
    <strong>ModifierParamMap</strong>
    </dt>
    <dd>
    The table that's passed to each ModifierProcessor


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">itemFilter</span>
         being processed for the stack
        </li>
        <li><span class="parameter">eligiblePartyMembers</span>
         copy of the list of party members that have been identified as eligible up to this point
        </li>
        <li><span class="parameter">targetsWithAmountWon</span>
         table<GUIDSTRING, number> copy of the winners table across all filters being run for the given item - will be nil for perStack ModifierProcessors
        </li>
        <li><span class="parameter">item</span>
         GUIDSTRING being sorted
        </li>
        <li><span class="parameter">currentItemStackSize</span>
         as identified by the first return of Osi.GetStackAmount
        </li>
        <li><span class="parameter">root</span>
         GUIDSTRING rootTemplate of the item
        </li>
        <li><span class="parameter">inventoryHolder</span>
         CHARACTER
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-01-31 02:45:07 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
