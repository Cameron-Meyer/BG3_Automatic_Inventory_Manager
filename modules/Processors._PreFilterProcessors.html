<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/Processors._CoreProcessor.html">Processors._CoreProcessor</a></li>
  <li><a href="../modules/Processors._FilterProcessors.html">Processors._FilterProcessors</a></li>
  <li><strong>Processors._PreFilterProcessors</strong></li>
  <li><a href="../modules/Processors._ProcessorUtils.html">Processors._ProcessorUtils</a></li>
  <li><a href="../modules/Utils._TableUtils.html">Utils._TableUtils</a></li>
  <li><a href="../modules/EntityPropertyRecorder.html">EntityPropertyRecorder</a></li>
  <li><a href="../modules/ItemBlackList.html">ItemBlackList</a></li>
  <li><a href="../modules/ItemFilters.html">ItemFilters</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>Processors._PreFilterProcessors</code></h1>
<p></p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#PreFilterProcessors:RegisterPerStackPreFilterProcessor">PreFilterProcessors:RegisterPerStackPreFilterProcessor (modUUID, preFilterKey, processorFunction)</a></td>
	<td class="summary">Adds a new PreFilter Processor that pre-filters eligiblePartyMembers before the stack is processed.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#PreFilterProcessors:ProcessPerStackPreFilters">PreFilterProcessors:ProcessPerStackPreFilters (prefilters, itemFilter, partyMembers, item, currentItemStackSize, root, inventoryHolder)</a></td>
	<td class="summary">Processes all prefilters that pre-filter eligiblePartyMembers before processing the stack of items</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#PreFilterProcessors:RegisterPerItemPreFilterProcessor">PreFilterProcessors:RegisterPerItemPreFilterProcessor (modUUID, preFilterKey, processorFunction)</a></td>
	<td class="summary">Adds a new PreFilter Processor that pre-filters eligiblePartyMembers before each item in the stack is processed by the filters</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#PreFilterProcessors:ProcessPerItemPreFilters">PreFilterProcessors:ProcessPerItemPreFilters (prefilters, itemFilter, partyMembers, targetsWithAmountWon, item, currentItemStackSize, root, inventoryHolder)</a></td>
	<td class="summary">Processes all prefilters that pre-filter eligiblePartyMembers before processing each item in a stack</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#PreFilterParamMap">PreFilterParamMap</a></td>
	<td class="summary">The table that's passed to each PreFilterProcessor</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "PreFilterProcessors:RegisterPerStackPreFilterProcessor"></a>
    <strong>PreFilterProcessors:RegisterPerStackPreFilterProcessor (modUUID, preFilterKey, processorFunction)</strong>
    </dt>
    <dd>
    Adds a new PreFilter Processor that pre-filters eligiblePartyMembers before the stack is processed.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modUUID</span>
         that ScriptExtender has registered for your mod, for tracking purposes - <a href="https://github.com/Norbyte/bg3se/blob/main/Docs/API.md#ismodloadedmodguid">https://github.com/Norbyte/bg3se/blob/main/Docs/API.md#ismodloadedmodguid</a>
 will throw an error if the mod identified by that UUID is not loaded
        </li>
        <li><span class="parameter">preFilterKey</span>
         the prefilter that this processorFunction can process.
        </li>
        <li><span class="parameter">processorFunction</span>
         to actually process the prefilter, accepting the following params:<br/>
 1) the value of the prefilter identified by prefilterKey <br/> 2) _PreFilterProcessors.ParamMap
 <br/> and return the list of party members that are eligible to continue processing. If the list is empty, or nil is returned, the
 last known populated eligiblePartyMembers list will be used.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        if the function was added successfully for the prefilterKey
    </ol>




</dd>
    <dt>
    <a name = "PreFilterProcessors:ProcessPerStackPreFilters"></a>
    <strong>PreFilterProcessors:ProcessPerStackPreFilters (prefilters, itemFilter, partyMembers, item, currentItemStackSize, root, inventoryHolder)</strong>
    </dt>
    <dd>
    Processes all prefilters that pre-filter eligiblePartyMembers before processing the stack of items


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">prefilters</span>
         The entire PreFilters field on the ItemFilter being processed
        </li>
        <li><span class="parameter">itemFilter</span>
         being processed for the stack
        </li>
        <li><span class="parameter">partyMembers</span>
         the list of party members that have been identified as eligible up to this point
        </li>
        <li><span class="parameter">item</span>
         GUIDSTRING being sorted
        </li>
        <li><span class="parameter">currentItemStackSize</span>
         as identified by the first return of Osi.GetStackAmount
        </li>
        <li><span class="parameter">root</span>
         GUIDSTRING rootTemplate of the item
        </li>
        <li><span class="parameter">inventoryHolder</span>
         CHARACTER
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the finalized list of eligible party members
    </ol>




</dd>
    <dt>
    <a name = "PreFilterProcessors:RegisterPerItemPreFilterProcessor"></a>
    <strong>PreFilterProcessors:RegisterPerItemPreFilterProcessor (modUUID, preFilterKey, processorFunction)</strong>
    </dt>
    <dd>
    Adds a new PreFilter Processor that pre-filters eligiblePartyMembers before each item in the stack is processed by the filters


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modUUID</span>
         that ScriptExtender has registered for your mod, for tracking purposes - <a href="https://github.com/Norbyte/bg3se/blob/main/Docs/API.md#ismodloadedmodguid">https://github.com/Norbyte/bg3se/blob/main/Docs/API.md#ismodloadedmodguid</a>
 will throw an error if the mod identified by that UUID is not loaded
        </li>
        <li><span class="parameter">preFilterKey</span>
         the prefilter that this processorFunction can process.
        </li>
        <li><span class="parameter">processorFunction</span>
         to actually process the prefilter, accepting the following params:<br/>
 1) the value of the prefilter identified by prefilterKey <br/> 2) _PreFilterProcessors.ParamMap
 <br/> and return the list of party members that are eligible to continue processing. If the list is empty, or nil is returned, the
 last known populated eligiblePartyMembers list will be used.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        if the function was added successfully for the prefilterKey
    </ol>




</dd>
    <dt>
    <a name = "PreFilterProcessors:ProcessPerItemPreFilters"></a>
    <strong>PreFilterProcessors:ProcessPerItemPreFilters (prefilters, itemFilter, partyMembers, targetsWithAmountWon, item, currentItemStackSize, root, inventoryHolder)</strong>
    </dt>
    <dd>
    Processes all prefilters that pre-filter eligiblePartyMembers before processing each item in a stack


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">prefilters</span>
         The entire PreFilters field on the ItemFilter being processed
        </li>
        <li><span class="parameter">itemFilter</span>
         being processed for the stack
        </li>
        <li><span class="parameter">partyMembers</span>
         the list of party members that have been identified as eligible up to this point for this item in the stack
        </li>
        <li><span class="parameter">targetsWithAmountWon</span>
         table(GUIDSTRING = number) copy of the winners table across all filters being run for the given item
        </li>
        <li><span class="parameter">item</span>
         GUIDSTRING being sorted
        </li>
        <li><span class="parameter">currentItemStackSize</span>
         as identified by the first return of Osi.GetStackAmount
        </li>
        <li><span class="parameter">root</span>
         GUIDSTRING rootTemplate of the item
        </li>
        <li><span class="parameter">inventoryHolder</span>
         CHARACTER
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        the finalized list of eligible party members
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "PreFilterParamMap"></a>
    <strong>PreFilterParamMap</strong>
    </dt>
    <dd>
    The table that's passed to each PreFilterProcessor


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">itemFilter</span>
         being processed for the stack
        </li>
        <li><span class="parameter">eligiblePartyMembers</span>
         copy of the list of party members that have been identified as eligible up to this point
        </li>
        <li><span class="parameter">targetsWithAmountWon</span>
         table<GUIDSTRING, number> copy of the winners table across all filters being run for the given item - will be nil for perStack PreFilterProcessors
        </li>
        <li><span class="parameter">item</span>
         GUIDSTRING being sorted
        </li>
        <li><span class="parameter">currentItemStackSize</span>
         as identified by the first return of Osi.GetStackAmount
        </li>
        <li><span class="parameter">root</span>
         GUIDSTRING rootTemplate of the item
        </li>
        <li><span class="parameter">inventoryHolder</span>
         CHARACTER
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-10-06 21:39:46 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
